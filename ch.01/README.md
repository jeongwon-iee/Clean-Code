# 1장 | 깨끗한 코드

### 📘 코드를 만드는 장인 정신

코드를 적을 때도 **장인 정신**을 가져야 한다.

장인 정신을 익히는 과정은 두 단계로 나뉜다. 바로 이론과 실전이다. 첫째, 장인에게 필요한 원칙, 패턴, 기법, 경험이라는 지식을 습득해야 한다. 둘째, 열심히 일하고 연습해 지식을 몸과 마음으로 체득해야 한다.

깨끗한 코드를 작성하는 방법은 **배우기 어렵다**. 단순히 원칙과 패턴을 안다고 깨끗한 코드가 나오지 않는다. **고생**을 해야 한다. 스스로 연습하고 실패도 맛봐야 한다. **이 책은 아주 열심히 독파해야 하는 책이다.**

우선, 읽을 코드가 아주 많다. 코드를 읽으며 무엇이 옳은지 무엇이 그른지 생각을 해야 한다. 모듈을 분해했다 다시 조립하는 과정도 이해해야 한다. 이 모든 활동에는 시간과 노력이 들지만 그만한 값어치가 있다.

##

### 📘  이 책으로 얻을 수 있는 것

이 책은 좋은 프로그램 작성 요령을 설명하는 책이고 온통 코드들이다. 코드를 최대한 다양한 각도에서 살펴본다. 이 책을 읽고 나면 좋은 코드와 나쁜 코드를 구분하는 능력이 생긴다. 게다가 좋은 코드를 작성하는 방법도 익힌다. 마지막으로 나쁜 코드를 좋은 코드로 바꾸는 실력도 쌓인다.

##

### 📘 코드가 존재하리라

코드는 요구사항을 표현하는 언어다.

코드의 도움 없이 요구사항을 상세하게 표현하기란 불가능하다. 정확히 명시하는 수밖에 없다. 기계가 실행할 정도로 상세하게 요구사항을 명시하는 작업, 바로 이것이 프로그래밍이다. 이렇게 명시한 결과가 바로 코드다.

##

### 📘 나쁜 코드

우리는 모두 자신이 짠 쓰레기 코드를 쳐다보며 나중에 손보겠다고 생각한 경험이 있다. 우리 모두는 대충 짠 프로그램이 돌아간다는 사실에 안도감을 느끼며 그래도 안 돌아가는 프로그램보다 돌아가는 쓰레기가 좋다고 스스로를 위로한 경험이 있다. 다시 돌아와 나중에 정리하겠다고 다짐했었다. ***나중은 결코 오지 않는다.***

##

### 📘 나쁜 코드로 치르는 대가

**나쁜 코드는 개발 속도를 크게 떨어뜨린다.** 코드를 고칠 때마다 엉뚱한 곳에서 문제가 생긴다. 매번 얽히고 설킨 코드를 '해독'해서 얽히고 설킨 코드를 더한다. 시간이 지나면서 쓰레기 더미는 점점 높아진다.

나쁜 코드가 쌓일수록 팀 생산성은 떨어진다. 그러다가 마침내 0에 근접한다.

***시간을 들여 깨끗한 코드를 만드는 노력이 비용을 절감하는 방법일 뿐 아니라 전문가로서 살아남는 길이다.***

##

### 📘 태도

**좋은 코드를 사수하는 일은 바로 우리 프로그래머들의 책임이다.**

자신이 의사라 가정하자. 어느 환자가 수술 전에 손을 씻지 말라고 요구한다. 시간이 오래 걸리니까. 확실히 환자는 상사다. 하지만 의사는 단호하게 거부한다. 왜? 질병과 감염의 위험은 환자보다 의사가 더 잘 아니까. 환자 말을 그대로 따르는 행동은 전문가답지 못하다.

프로그래머도 마찬가지다. 나쁜 코드의 위험을 이해하지 못 하는 관리자 말을 그대로 따르는 행동은 전문가답지 못하다.

> 기한을 맞추며 빨리 가는 유일한 방법은, 언제나 코드를 최대한 깨끗하게 유지하는 습관이다.

##

### 📘 깨끗한 코드란?

- 깨끗한 코드는 보는 사람에게 즐거움을 선사해야 한다.
- 깨끗한 코드는 단순하고 직접적이다. 깨끗한 코드는 잘 쓴 문장처럼 읽힌다.
- 깨끗한 코드에는 의미있는 이름이 붙는다.
- 깨끗한 코드는 한 가지를 제대로 한다.
- 논리가 간단해야 버그가 숨어들지 못한다.
- 의존성을 최대한 줄여야 유지보수가 쉬워진다.
- 의존성은 최소이며 각 의존성을 명확히 정의한다.
- 오류는 명백한 전략에 의거해 철저히 처리한다.
- 성능을 최적으로 유지해야 사람들이 원칙 없는 최적화로 코드를 망치려는 유혹에 빠지지 않는다.
- 단위 테스트 케이스와 인수 테스트 케이스가 존재한다.

> 테스트 케이스가 없는 코드는 깨끗한 코드가 아니다. 아무리 코드가 우아해도, 아무리 가독성이 높아도, 테스트 케이스가 없으면 깨끗하지 않다.

> 깨끗한 코드는 고치려고 살펴봐도 딱히 손 댈 곳이 없다. 작성자가 이미 모든 사항을 고려했으므로 고칠 궁리를 하다보면 언제나 제자리로 돌아온다.

> 여러 기능을 수행하는 객체나 메서드도 찾는다. 객체가 여러 기능을 수행한다면 여러 객체로 나눈다. 메서드가 여러 기능을 수행한다면 메서드 추출 리팩터링 기법을 적용해 기능을 명확히 기술하는 메서드 하나와 기능을 실제로 수행하는 메서드 여러 개로 나눈다.

> 깨끗한 코드는 코드를 독해하느라 머리를 쥐어짤 필요가 없어야 한다. 읽으면서 짐작한 대로 돌아가는 코드가 깨끗한 코드다. 모듈을 읽으면 다음에 벌어질 상황이 보인다. 

> 새 코드를 짜면서 우리는 끊임없이 기존 코드를 읽는다. 따라서 읽기 쉬운 코드가 매우 중요하다. 주변 코드가 읽기 쉬우면 새 코드를 짜기도 쉽다.

***요약: 중복을 피하라. 한 기능만 수행하라. 제대로 표현하라. 작게 추상화 하라.***
